sudo: required
language: C
os:
  - linux
  - osx

branches:
  only:
    - master
    - dev

install:
  - sudo ./install
  - if [ "$TRAVIS_OS_NAME" = "osx" ]; then
        brew update --verbose;
        brew install go --verbose;
        brew install dmd --verbose;
        brew install rust --verbose;
    fi

script:
  - xmake create -P ./test 
  - xmake -P ./test
  - ./tests/tests
